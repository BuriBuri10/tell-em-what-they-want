2025-07-18 00:17:53.684 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 00:17:53.685 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:17:54.159 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 00:24:22.072 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 00:24:22.074 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:24:22.515 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 00:24:22.516 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:24:22.832 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 00:24:22.833 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:24:23.198 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 00:24:23.198 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:24:23.608 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 00:24:23.609 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 00:36:13.375 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 00:36:13.377 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:36:13.819 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 00:36:13.819 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:36:14.125 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 00:36:14.125 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:36:14.446 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 00:36:14.447 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:36:14.761 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 00:36:14.763 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 00:36:14.763 | INFO     | __main__:_build_graph:56 - Workflow graph defined.
2025-07-18 00:36:14.772 | INFO     | __main__:__init__:30 - PersonaWorkflow initialized successfully
2025-07-18 00:36:14.773 | INFO     | __main__:_build_graph:56 - Workflow graph defined.
2025-07-18 00:36:14.778 | INFO     | __main__:__init__:33 - CampaignWorkflow initialized successfully
2025-07-18 00:36:14.778 | INFO     | __main__:run:95 - Running CampaignWorkflow for user_id=abc, query='Launch summer sale campaign for Gen Z'
2025-07-18 00:36:14.789 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:76 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\', \'user_profile\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'input\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 00:36:14.789 | ERROR    | __main__:run:108 - Workflow run failed: "GraphState" object has no field "segmenter_ready"
2025-07-18 00:36:14.793 | WARNING  | __main__:get_graph_structure:72 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 00:36:16.157 | INFO     | __main__:main:143 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 00:40:49.644 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 00:40:49.646 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:40:50.085 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 00:40:50.086 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:40:50.390 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 00:40:50.391 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:40:50.713 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 00:40:50.714 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:40:51.041 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 00:40:51.041 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 00:40:51.043 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 00:40:51.050 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 00:40:51.050 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=userghohp yih, query='Launch summer sale campaign for Gen Z'
2025-07-18 00:40:51.059 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 00:40:51.060 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "segmenter_ready"
2025-07-18 00:40:51.063 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 00:40:53.665 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 00:50:16.557 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 00:50:16.566 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:50:17.107 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 00:50:17.108 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:50:17.419 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 00:50:17.420 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:50:17.746 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 00:50:17.747 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:50:18.062 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 00:50:18.063 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 00:50:18.064 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 00:50:18.070 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 00:50:18.070 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=abcd, query='Launch summer sale campaign for Gen Z'
2025-07-18 00:50:18.082 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 00:50:18.083 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: 'GraphState' object has no attribute 'user_segment'
2025-07-18 00:50:18.084 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "campaign_recommendation"
2025-07-18 00:50:18.088 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 00:50:41.647 | ERROR    | __main__:get_graph_structure:77 - Mermaid PNG rendering failed: Failed to reach https://mermaid.ink/ API while trying to render your graph after 1 retries. To resolve this issue:
1. Check your internet connection and try again
2. Try with higher retry settings: `draw_mermaid_png(..., max_retries=5, retry_delay=2.0)`
3. Use the Pyppeteer rendering method which will render your graph locally in a browser: `draw_mermaid_png(..., draw_method=MermaidDrawMethod.PYPPETEER)`
2025-07-18 00:50:41.648 | ERROR    | __main__:main:142 - Could not save graph structure: Failed to reach https://mermaid.ink/ API while trying to render your graph after 1 retries. To resolve this issue:
1. Check your internet connection and try again
2. Try with higher retry settings: `draw_mermaid_png(..., max_retries=5, retry_delay=2.0)`
3. Use the Pyppeteer rendering method which will render your graph locally in a browser: `draw_mermaid_png(..., draw_method=MermaidDrawMethod.PYPPETEER)`
2025-07-18 00:54:47.478 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 00:54:47.480 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:54:47.915 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 00:54:47.916 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:54:48.218 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 00:54:48.219 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:54:48.541 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 00:54:48.541 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:54:48.859 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 00:54:48.860 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 00:54:48.861 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 00:54:48.866 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 00:54:48.867 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=abcd, query='Launch summer sale campaign for Gen Z'
2025-07-18 00:54:48.875 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 00:54:48.876 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: 'GraphState' object has no attribute 'user_segment'
2025-07-18 00:54:48.877 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "campaign_recommendation"
2025-07-18 00:54:48.880 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 00:54:49.888 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 00:57:40.068 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 00:57:40.080 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:57:40.521 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 00:57:40.522 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:57:40.824 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 00:57:40.824 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:57:41.127 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 00:57:41.127 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 00:57:41.430 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 00:57:41.431 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 00:57:41.432 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 00:57:41.473 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 00:57:41.474 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=abcd, query='Launch summer sale campaign for Gen Z'
2025-07-18 00:57:41.483 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 00:57:41.484 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: 'GraphState' object has no attribute 'user_segment'
2025-07-18 00:57:41.484 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "recommendation_ready"
2025-07-18 00:57:41.487 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 00:57:42.541 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:01:16.159 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:01:16.161 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:01:16.598 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:01:16.598 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:01:16.900 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:01:16.901 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:01:17.211 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:01:17.212 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:01:17.522 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:01:17.522 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:01:17.524 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:01:17.529 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:01:17.530 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ubwboeb, query='Launch summer sale campaign for Gen Z''
2025-07-18 01:01:17.539 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:01:17.540 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:01:17.540 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:01:17.541 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "generated_ad"
2025-07-18 01:01:17.545 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:01:18.269 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:02:32.045 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:02:32.046 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:02:32.490 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:02:32.490 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:02:32.789 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:02:32.790 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:02:33.095 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:02:33.095 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:02:33.398 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:02:33.398 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:02:33.399 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:02:33.405 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:02:33.406 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ihiyiv, query=''Launch summer sale campaign for Gen Z'
2025-07-18 01:02:33.423 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:02:33.424 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:02:33.425 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:02:33.425 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "ad_generation_ready"
2025-07-18 01:02:33.430 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:02:34.176 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:03:44.416 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:03:44.418 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:03:44.857 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:03:44.857 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:03:45.160 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:03:45.160 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:03:45.471 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:03:45.471 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:03:45.774 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:03:45.775 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:03:45.777 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:03:45.782 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:03:45.782 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=cuco8yp9f, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:03:45.792 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:03:45.793 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:03:45.793 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:03:45.794 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:03:45.795 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "human_review_required"
2025-07-18 01:03:45.798 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:03:46.671 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:05:10.729 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:05:10.731 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:05:11.168 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:05:11.169 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:05:11.472 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:05:11.473 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:05:11.782 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:05:11.783 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:05:12.084 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:05:12.085 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:05:12.086 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:05:12.091 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:05:12.091 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ddugPWEF[feg, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:05:12.099 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:05:12.100 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:05:12.101 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:05:12.102 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:05:12.102 | ERROR    | __main__:run:105 - Workflow run failed: 'GraphState' object has no attribute 'ad_feedback'
2025-07-18 01:05:12.107 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:05:13.099 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:06:05.252 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:06:05.255 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:06:05.696 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:06:05.696 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:06:06.001 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:06:06.001 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:06:06.310 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:06:06.311 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:06:06.622 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:06:06.622 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:06:06.623 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:06:06.628 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:06:06.629 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ddbOEUFBWOEFB[OEFI, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:06:06.638 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:06:06.639 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:06:06.640 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:06:06.642 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:06:06.642 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:06:06.643 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "feedback_ready"
2025-07-18 01:06:06.647 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:06:07.483 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:07:32.781 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:07:32.782 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:07:33.220 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:07:33.221 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:07:33.522 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:07:33.523 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:07:33.827 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:07:33.828 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:07:34.132 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:07:34.132 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:07:34.134 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:07:34.138 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:07:34.138 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=utdtcuclic, query=''Launch summer sale campaign for Gen Z'
2025-07-18 01:07:34.147 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:07:34.148 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:07:34.149 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:07:34.150 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:07:34.151 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:07:34.154 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:07:35.087 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:18:54.545 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:18:54.547 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:18:54.985 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:18:54.986 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:18:55.291 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:18:55.292 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:18:55.599 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:18:55.599 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:18:55.900 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:18:55.900 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:18:55.902 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:18:55.906 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:18:55.907 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=dbiPBpb, query=''Launch summer sale campaign for Gen Z'
2025-07-18 01:18:55.914 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:18:55.915 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:18:55.916 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:18:55.917 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:18:55.918 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:18:55.921 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:18:56.924 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:27:31.476 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:27:31.479 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:27:31.881 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:27:31.882 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:27:32.188 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:27:32.188 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:27:32.551 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:27:32.551 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:27:32.852 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:27:32.853 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:27:32.854 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:27:32.859 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:27:32.859 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=iwiefbwufb, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:27:32.868 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:27:32.869 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:27:32.869 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:27:32.870 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:27:32.871 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:27:32.874 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:27:33.856 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:30:45.959 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:30:45.961 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:30:46.370 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:30:46.371 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:30:46.679 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:30:46.679 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:30:47.055 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:30:47.055 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:30:47.379 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:30:47.380 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:30:47.382 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:30:47.387 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:30:47.387 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=jjbaufbwo, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:30:47.398 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segments"\'}.  Expected: [\'"segments"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segments"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segments"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:30:47.399 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:30:47.400 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:30:47.401 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:30:47.401 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:30:47.405 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:30:48.338 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:34:23.051 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:34:23.053 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:34:23.521 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:34:23.521 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:34:23.845 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:34:23.846 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:34:24.213 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:34:24.214 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:34:24.516 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:34:24.517 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:34:24.518 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:34:24.523 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:34:24.524 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=iyiv9v, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:34:24.533 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segment"\'}.  Expected: [\'"segment"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segment"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segment"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:34:24.534 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:34:24.535 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:34:24.536 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:34:24.536 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:34:24.540 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:34:27.688 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:39:58.922 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:39:58.924 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:39:59.315 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:39:59.316 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:39:59.618 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:39:59.619 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:39:59.986 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:39:59.986 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:40:00.304 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:40:00.305 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:40:00.307 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:40:00.312 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:40:00.313 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=dfvvwggewgg, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:40:00.324 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'"segment"\'}.  Expected: [\'"segment"\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {"segment"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"segment"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 01:40:00.325 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:40:00.326 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:40:00.328 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:40:00.329 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:40:00.333 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:40:01.192 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:45:37.846 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:45:37.848 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:45:38.238 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:45:38.239 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:45:38.554 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:45:38.555 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:45:38.902 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:45:38.902 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:45:39.201 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:45:39.202 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:45:39.204 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:45:39.209 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:45:39.209 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ubf9b9b9ugb9wugb9wugb, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:45:40.494 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '## Step 1: Understand the User Profile and Behavioral Information\nThe user profile and behavioral information provided is "Launch summer sale campaign for Gen Z". This indicates that the target audience is Generation Z, and the goal is to promote a summer sale.\n\n## 2: Identify Characteristics of Each Marketing Segment\n- **Budget**: Typically, this segment includes price-sensitive customers who are looking for the best value for their money. They are often influenced by discounts and sales.\n- **Standard**: This segment consists of customers who have average spending habits and are looking for quality products or services at reasonable prices. They may be loyal to certain brands but are also open to trying new ones if they offer good value.\n- **Premium**: The premium segment includes customers who prioritize high-quality products or services, brand reputation, and are often willing to pay more for exclusivity, luxury, or superior service.\n\n## 3: Analyze Gen Z\'s General Preferences\nGeneration Z is known for being digitally native, diverse, and socially conscious. They value experiences over material goods, are highly influenced by social media, and tend to be price-sensitive, although they also appreciate quality and authenticity.\n\n## 4: Match Gen Z Preferences with Marketing Segments\nGiven that the campaign is for a summer sale, which typically emphasizes discounts and promotions, it suggests that the target audience is likely price-sensitive. While Gen Z values quality and authenticity, the focus on a sale campaign indicates that the budget segment could be a primary target, as it aligns with price sensitivity.\n\n## 5: Determine the Most Relevant Marketing Segment\nConsidering the emphasis on a sale campaign, which is usually aimed at attracting price-sensitive customers, the most relevant marketing segment for this campaign would be the "budget" segment. This does not mean that standard or premium segments may not be targeted with different strategies, but for a summer sale campaign, budget-conscious individuals are likely the primary audience.\n\nThe final answer is:\n{"segment": "budget"}'}}
2025-07-18 01:45:40.495 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:45:40.496 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:45:40.498 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:45:40.499 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:45:40.502 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:45:41.675 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:46:17.263 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:46:17.265 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:46:17.668 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:46:17.669 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:46:17.972 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:46:17.973 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:46:18.330 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:46:18.330 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:46:18.647 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:46:18.647 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:46:18.649 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:46:18.655 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:46:18.655 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uci7tcouco8c, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:46:20.154 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:79 - Segmentation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': 'To identify the most relevant marketing segment for the user profile and behavioral information provided, let\'s analyze the given information:\n\n1. **User Profile and Behavioral Information**: "Launch summer sale campaign for Gen Z"\n\n2. **Understanding the Segments**:\n   - **Budget**: Typically, this segment includes price-sensitive customers who are looking for deals and discounts. They are often driven by promotions and sales.\n   - **Standard**: This segment includes customers who have moderate expectations and are looking for a balance between quality and price. They might be influenced by regular marketing campaigns but are not as price-sensitive as the budget segment.\n   - **Premium**: This segment consists of customers who prioritize high quality, brand reputation, and are less sensitive to price. They often look for exclusive experiences and high-end products.\n\n3. **Gen Z Characteristics**: Gen Z is known for being digitally native, diverse, and socially conscious. They value experiences over material goods and are often driven by authenticity and social responsibility. However, when it comes to purchases, they can be quite budget-conscious, especially given the economic conditions they have grown up in.\n\n4. **Summer Sale Campaign**: The fact that the campaign is a summer sale indicates it\'s focused on offering discounts or promotions during a specific period. This type of campaign usually appeals to budget-conscious consumers.\n\nGiven these considerations, the most relevant marketing segment for a campaign focused on a summer sale for Gen Z would likely be the **budget** segment. This is because sale campaigns are primarily aimed at attracting customers who are looking for deals and discounts.\n\nResponse:\n{"segment": "budget"}'}}
2025-07-18 01:46:20.154 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:46:20.154 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:46:20.157 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:46:20.157 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:46:20.160 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:46:21.176 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:50:01.257 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:50:01.259 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:50:01.653 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:50:01.654 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:50:01.954 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:50:01.956 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:50:02.313 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:50:02.313 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:50:02.613 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:50:02.613 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:50:02.615 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:50:02.620 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:50:02.621 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uciugcluhcli, query=''Launch summer sale campaign for Gen Z'
2025-07-18 01:50:03.819 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 01:50:03.820 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:50:03.821 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:50:03.822 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:50:03.823 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:50:03.826 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:50:04.638 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:53:22.139 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:53:22.141 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:53:22.573 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:53:22.574 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:53:22.960 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:53:22.961 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:53:23.376 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:53:23.377 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:53:23.721 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:53:23.721 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:53:23.723 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:53:23.728 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:53:23.728 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uiucictuc, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:53:25.037 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 01:53:25.038 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: RecommendationPromptBuilder.render_prompt() got an unexpected keyword argument 'segment'
2025-07-18 01:53:25.039 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: 'GraphState' object has no attribute 'campaign_recommendation'
2025-07-18 01:53:25.040 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:53:25.041 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:53:25.044 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:53:26.092 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 01:58:24.022 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 01:58:24.023 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:58:24.452 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 01:58:24.453 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:58:24.754 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 01:58:24.755 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:58:25.107 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 01:58:25.107 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 01:58:25.409 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 01:58:25.409 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 01:58:25.411 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 01:58:25.416 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 01:58:25.416 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ucucuy8yfiv, query='Launch summer sale campaign for Gen Z'
2025-07-18 01:58:25.737 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 01:58:25.738 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: RecommendationPromptBuilder.render_prompt() got an unexpected keyword argument 'segment'
2025-07-18 01:58:25.739 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 01:58:25.739 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 01:58:25.740 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 01:58:25.741 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 01:58:25.744 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 01:58:26.819 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:03:46.410 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:03:46.412 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:03:46.808 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:03:46.808 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:03:47.110 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:03:47.110 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:03:47.464 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:03:47.464 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:03:47.762 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:03:47.763 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:03:47.764 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:03:47.769 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:03:47.770 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=hluc,jgcgc, query='indian summers'
2025-07-18 02:03:48.927 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: budget
2025-07-18 02:03:48.928 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: Expected mapping type as input to ChatPromptTemplate. Received <class 'str'>.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT 
2025-07-18 02:03:48.929 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:03:48.929 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:03:48.931 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:03:48.931 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:03:48.935 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:03:49.527 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:05:23.630 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:05:23.632 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:05:24.094 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:05:24.094 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:05:24.425 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:05:24.426 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:05:24.784 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:05:24.784 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:05:25.089 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:05:25.089 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:05:25.090 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:05:25.095 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:05:25.095 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=yculivi, query='Launch summer sale campaign for Gen Z'
2025-07-18 02:05:25.806 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:05:25.807 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: type object 'RecommendationPromptBuilder' has no attribute 'render_prompt'
2025-07-18 02:05:25.808 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:05:25.808 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:05:25.809 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:05:25.810 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:05:25.814 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:05:26.377 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:06:28.933 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:06:28.935 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:06:29.357 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:06:29.358 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:06:29.659 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:06:29.659 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:06:30.010 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:06:30.010 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:06:30.317 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:06:30.318 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:06:30.319 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:06:30.325 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:06:30.325 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=gckuckjhv, query='Launch summer sale campaign for Gen Z'
2025-07-18 02:06:39.527 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:06:39.528 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: RecommendationPromptBuilder.render_prompt() got an unexpected keyword argument 'segment'
2025-07-18 02:06:39.529 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:06:39.529 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:06:39.530 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:06:39.531 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:06:39.534 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:06:40.057 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:07:37.595 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:07:37.597 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:07:37.995 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:07:37.996 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:07:38.296 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:07:38.297 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:07:38.649 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:07:38.650 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:07:38.988 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:07:38.988 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:07:38.990 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:07:38.996 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:07:38.996 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=yg8yf8yd, query='Launch summer sale campaign for Gen Z'
2025-07-18 02:07:39.807 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:07:39.808 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: Expected mapping type as input to ChatPromptTemplate. Received <class 'str'>.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT 
2025-07-18 02:07:39.809 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:07:39.809 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:07:39.810 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:07:39.811 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:07:39.815 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:07:40.373 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:16:13.667 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:16:13.669 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:16:14.058 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:16:14.059 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:16:14.365 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:16:14.366 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:16:14.722 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:16:14.722 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:16:15.026 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:16:15.027 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:16:15.029 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:16:15.034 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:16:15.034 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=gckugmhgxkx, query='Launch summer sale campaign for Gen Z'
2025-07-18 02:16:15.765 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:16:15.766 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:64 - Recommendation generation failed: RecommendationPromptBuilder.render_prompt() got an unexpected keyword argument 'segment'
2025-07-18 02:16:15.766 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:16:15.767 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:16:15.768 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:16:15.768 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:16:15.772 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:16:16.561 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:27:11.842 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:27:11.844 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:27:12.235 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:27:12.236 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:27:12.543 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:27:12.544 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:27:12.895 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:27:12.896 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:27:13.200 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:27:13.200 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:27:13.203 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:27:13.207 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:27:13.207 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=yg8yf8yd, query='Launch summer sale campaign for Gen Z'
2025-07-18 02:27:14.056 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:27:14.057 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:70 - Recommendation generation failed: 'GraphState' object has no attribute 'campaign_goal'
2025-07-18 02:27:14.057 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:27:14.058 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:27:14.059 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:27:14.060 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:27:14.063 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:27:14.902 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:29:05.563 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:29:05.565 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:29:05.953 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:29:05.954 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:29:06.271 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:29:06.272 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:29:06.634 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:29:06.634 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:29:06.934 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:29:06.935 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:29:06.936 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:29:06.941 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:29:06.942 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=gckuckjhv, query='Launch summer sale campaign for Gen Z'
2025-07-18 02:29:08.789 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:29:08.790 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:70 - Recommendation generation failed: RecommendationPromptBuilder.render_prompt() missing 1 required positional argument: 'self'
2025-07-18 02:29:08.791 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:29:08.791 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:29:08.793 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:29:08.793 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:29:08.797 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:29:09.467 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:42:31.103 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:42:31.105 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:42:31.536 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:42:31.536 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:42:31.846 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:42:31.846 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:42:32.197 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:42:32.198 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:42:32.503 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:42:32.503 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:42:32.505 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:42:32.511 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:42:32.511 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=yculivi, query='Launch summer sale campaign for Gen Z'
2025-07-18 02:42:33.137 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:42:33.138 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:70 - Recommendation generation failed: RecommendationPromptBuilder.render_prompt() missing 1 required positional argument: 'self'
2025-07-18 02:42:33.138 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:42:33.139 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:42:33.140 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:42:33.141 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:42:33.144 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:42:33.771 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:48:51.562 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:48:51.564 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:48:51.958 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:48:51.959 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:48:52.264 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:48:52.264 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:48:52.644 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:48:52.646 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:48:52.948 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:48:52.948 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:48:52.950 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:48:52.955 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:48:52.955 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=hluc,jgcgc, query='Launch summer sale campaign for Gen Z'
2025-07-18 02:48:53.596 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:48:53.597 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:70 - Recommendation generation failed: RecommendationPromptBuilder.render_prompt() got an unexpected keyword argument 'campaign_type'
2025-07-18 02:48:53.598 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:48:53.598 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:48:53.599 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:48:53.600 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:48:53.603 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:48:54.326 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:52:18.456 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:52:18.457 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:52:18.848 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:52:18.849 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:52:19.155 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:37 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:52:19.156 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:52:19.507 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:52:19.508 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:52:19.811 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:52:19.811 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:52:19.812 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:52:19.818 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:52:19.818 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ucucuy8yfiv, query='indian summers'
2025-07-18 02:52:20.415 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:52:20.416 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:72 - Recommendation generation failed: Expected mapping type as input to ChatPromptTemplate. Received <class 'str'>.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT 
2025-07-18 02:52:20.417 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:52:20.417 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:52:20.418 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:52:20.419 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:52:20.423 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:52:21.005 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:56:33.063 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:56:33.065 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:56:33.457 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:56:33.458 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:56:33.757 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:136 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:56:33.758 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:56:34.110 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:56:34.110 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:56:34.413 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:56:34.413 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:56:34.414 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:56:34.419 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:56:34.420 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uiucictuc, query='Launch summer sale campaign for Gen Z'
2025-07-18 02:56:35.044 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:56:35.045 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:165 - Recommendation generation failed: Expected mapping type as input to ChatPromptTemplate. Received <class 'str'>.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT 
2025-07-18 02:56:35.046 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:56:35.046 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:56:35.047 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:56:35.048 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:56:35.052 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:56:35.760 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 02:59:57.086 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 02:59:57.088 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:59:57.480 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 02:59:57.480 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:59:57.784 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:136 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 02:59:57.785 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:59:58.135 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 02:59:58.135 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 02:59:58.443 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 02:59:58.443 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 02:59:58.444 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 02:59:58.449 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 02:59:58.450 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uciugcluhcli, query='Launch summer sale campaign for Gen Z'
2025-07-18 02:59:58.913 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 02:59:58.914 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:169 - Recommendation generation failed: "Input to ChatPromptTemplate is missing variables {'user_persona', 'campaign_objective'}.  Expected: ['campaign_objective', 'user_persona'] Received: ['user_profile', 'campaign_goal']\nNote: if you intended {user_persona} to be part of the string and not a variable, please escape it with double curly braces like: '{{user_persona}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:59:58.915 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 02:59:58.915 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 02:59:58.916 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 02:59:58.917 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 02:59:58.921 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 02:59:59.452 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 03:00:44.531 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 03:00:44.533 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:00:44.924 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 03:00:44.925 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:00:45.227 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:136 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 03:00:45.228 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:00:45.583 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 03:00:45.584 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:00:45.882 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 03:00:45.882 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 03:00:45.884 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 03:00:45.889 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 03:00:45.889 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uci7tcouco8c, query=''Launch summer sale campaign for Gen Z'
2025-07-18 03:00:46.353 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 03:00:46.708 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:169 - Recommendation generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': "I don't have access to user persona and campaign objective information."}}
2025-07-18 03:00:46.709 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 03:00:46.709 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 03:00:46.711 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 03:00:46.711 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 03:00:46.715 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 03:00:47.235 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 03:05:28.886 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 03:05:28.888 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:05:29.291 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 03:05:29.292 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:05:29.598 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:136 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 03:05:29.599 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:05:30.020 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 03:05:30.020 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:05:30.332 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 03:05:30.333 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 03:05:30.334 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 03:05:30.340 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 03:05:30.340 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=dfvvwggewgg, query='Launch summer sale campaign for Gen Z'
2025-07-18 03:05:30.954 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 03:05:31.270 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:169 - Recommendation generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': "I don't have access to user persona and campaign objective information."}}
2025-07-18 03:05:31.271 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 03:05:31.271 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 03:05:31.273 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 03:05:31.273 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 03:05:31.277 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 03:05:31.956 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 03:07:13.026 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 03:07:13.029 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:07:13.430 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 03:07:13.430 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:07:13.734 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:136 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 03:07:13.734 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:07:14.094 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 03:07:14.095 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:07:14.408 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 03:07:14.408 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 03:07:14.410 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 03:07:14.415 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 03:07:14.416 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=lauch summersjccish, query='lauch summers'
2025-07-18 03:07:15.115 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 03:07:15.471 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:169 - Recommendation generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': "I don't have access to user persona and campaign objective information."}}
2025-07-18 03:07:15.472 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 03:07:15.472 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 03:07:15.474 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 03:07:15.475 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 03:07:15.478 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 03:07:16.085 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 03:08:11.505 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 03:08:11.507 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:08:11.897 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 03:08:11.898 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:08:12.202 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:136 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 03:08:12.202 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:08:12.555 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 03:08:12.556 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:08:12.861 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 03:08:12.861 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 03:08:12.862 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 03:08:12.867 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 03:08:12.867 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=lauch summers, query='lauch summers'
2025-07-18 03:08:13.561 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: budget
2025-07-18 03:08:13.926 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:169 - Recommendation generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': "I don't have access to user persona and campaign objective information."}}
2025-07-18 03:08:13.927 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 03:08:13.927 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 03:08:13.929 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 03:08:13.929 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 03:08:13.933 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 03:08:14.480 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 03:16:37.277 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 03:16:37.279 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 03:16:37.675 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 10:27:36.317 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 10:27:36.326 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 10:27:36.789 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 10:28:24.229 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 10:28:24.231 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 10:28:24.625 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 10:28:24.626 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 10:28:24.976 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:136 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 10:28:24.976 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 10:28:25.298 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 10:28:25.298 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 10:28:25.621 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 10:28:25.622 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 10:28:25.623 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 10:28:25.630 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 10:28:25.631 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ugi7tc, query='Launch summer sale campaign for Gen Z'
2025-07-18 10:28:28.247 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 10:28:38.554 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:169 - Recommendation generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': "I don't have access to user persona and campaign objective information."}}
2025-07-18 10:28:38.554 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 10:28:38.554 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 10:28:38.556 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 10:28:38.556 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 10:28:38.561 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 10:28:43.520 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 10:43:15.334 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 10:43:15.343 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 10:43:15.737 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 10:45:50.522 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 10:45:50.523 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 10:45:50.920 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:45 - UserSegmenter initialized successfully.
2025-07-18 10:45:50.921 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 10:45:51.229 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:136 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 10:45:51.230 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 10:45:51.616 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:36 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 10:45:51.617 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.0 | Overrides: {}
2025-07-18 10:45:51.964 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:44 - HumanReviewRouter initialized successfully
2025-07-18 10:45:51.964 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 10:45:51.966 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 10:45:51.972 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 10:45:51.972 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ugi7tc, query='Launch summer sale campaign for Gen Z'
2025-07-18 10:45:52.368 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:71 - Predicted segment: standard
2025-07-18 10:45:52.589 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:169 - Recommendation generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': "I don't have access to user persona and campaign objective information."}}
2025-07-18 10:45:52.590 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:53 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 10:45:52.591 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:70 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 10:45:52.592 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:68 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 10:45:52.593 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 10:45:52.597 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 10:45:54.624 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 10:56:06.420 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 10:58:43.835 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 11:05:33.034 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 11:05:33.035 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:05:33.432 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:07:39.675 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 11:07:39.677 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:07:40.070 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:12:44.390 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 11:12:44.392 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:12:44.789 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:14:01.308 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 11:14:01.309 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:14:01.722 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:17:35.312 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 11:17:35.314 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:17:35.710 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:17:35.710 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:17:36.016 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:17:36.017 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:156 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 11:21:04.143 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 11:21:04.145 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:21:04.540 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:21:04.541 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:21:04.848 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:21:04.849 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:156 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 11:21:04.849 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:21:05.208 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:21:05.208 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:46 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 11:26:28.318 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 11:26:28.320 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:26:28.716 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:26:28.717 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:26:29.020 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:26:29.020 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:156 - RecommendNode initialized successfully with recommendation generation chain.
2025-07-18 11:26:29.021 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:26:29.397 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:26:29.398 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:46 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 11:26:29.398 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 11:26:29.753 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 11:26:29.754 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 11:26:29.754 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 11:26:29.756 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 11:26:29.762 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 11:26:29.762 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ugi7tc, query='Launch summer sale campaign for Gen Z'
2025-07-18 11:26:30.233 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 11:26:30.417 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:189 - Recommendation generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': "I don't have access to user persona and campaign objective information."}}
2025-07-18 11:26:30.417 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:63 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 11:26:30.418 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:80 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 11:26:30.419 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 11:26:30.420 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 11:26:30.422 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 11:26:31.363 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 12:12:02.225 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 12:12:02.227 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:12:02.643 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:16:49.101 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 12:16:49.103 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:16:49.516 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:27:03.052 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 12:27:03.054 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:27:03.466 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:27:03.467 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:27:03.780 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:27:03.781 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:132 - RecommendNode initialized successfully with direct prompt.
2025-07-18 12:27:03.781 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:27:04.161 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:27:04.161 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:46 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 12:27:04.161 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:27:04.481 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:27:04.482 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 12:27:04.482 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 12:27:04.483 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 12:27:04.488 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 12:27:04.489 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 12:27:04.822 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 12:27:05.111 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:158 - Recommendation generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': 'To provide a personalized marketing campaign recommendation, I need the specific details about the user persona and the campaign objective. \n\nCould you please provide the following:\n- User Persona: \n- Campaign Objective: \n\nOnce I have this information, I can offer a tailored suggestion.'}}
2025-07-18 12:27:05.112 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:63 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 12:27:05.112 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:80 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 12:27:05.113 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 12:27:05.114 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 12:27:05.118 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 12:27:05.853 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 12:48:29.028 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 12:48:29.032 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:48:29.510 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:48:29.511 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:51:51.494 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 12:51:51.496 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:51:51.969 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:51:51.970 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:54:13.855 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 12:54:13.857 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:54:14.300 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:54:14.301 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:54:32.325 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 12:54:32.327 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:54:32.804 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:54:32.804 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:54:33.137 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:54:33.137 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 12:54:33.138 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:54:33.520 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:54:33.521 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:46 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 12:54:33.521 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 12:54:33.850 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 12:54:33.850 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 12:54:33.850 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 12:54:33.852 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 12:54:33.858 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 12:54:33.858 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 12:54:34.214 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 12:54:34.215 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:170 - Recommendation generation failed: 'GraphState' object has no attribute 'user_persona'
2025-07-18 12:54:34.216 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:63 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 12:54:34.216 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:80 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 12:54:34.217 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 12:54:34.218 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 12:54:34.222 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 12:54:35.540 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 13:27:04.990 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 13:27:04.992 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:27:05.412 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:27:05.412 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:27:05.746 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:27:05.747 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 13:27:05.747 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:27:06.106 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:27:06.107 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:46 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 13:27:06.107 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:27:06.499 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:27:06.499 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 13:27:06.500 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 13:27:06.501 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 13:27:06.506 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 13:27:06.507 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 13:27:07.946 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 13:27:07.947 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:170 - Recommendation generation failed: 'GraphState' object has no attribute 'user_persona'
2025-07-18 13:27:07.947 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:63 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 13:27:07.948 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:80 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 13:27:07.950 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 13:27:07.950 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 13:27:07.954 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 13:27:09.041 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 13:27:49.342 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 13:27:49.344 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:27:49.747 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:27:49.748 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:27:50.054 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:27:50.054 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 13:27:50.054 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:27:50.408 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:27:50.409 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:46 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 13:27:50.409 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:27:50.714 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:27:50.714 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 13:27:50.714 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 13:27:50.716 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 13:27:50.721 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 13:27:50.721 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 13:27:51.054 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 13:27:51.055 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:170 - Recommendation generation failed: 'GraphState' object has no attribute 'campaign_objective'
2025-07-18 13:27:51.055 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:63 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 13:27:51.056 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:80 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 13:27:51.057 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 13:27:51.058 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 13:27:51.061 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 13:27:51.781 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 13:30:07.989 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 13:30:07.991 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:30:08.402 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:30:08.403 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:30:08.707 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:30:08.707 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 13:30:08.708 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:30:09.066 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:30:09.066 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:46 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 13:30:09.066 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:30:09.384 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:30:09.384 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 13:30:09.384 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 13:30:09.385 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 13:30:09.390 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 13:30:09.390 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 13:30:17.206 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 13:30:17.207 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:170 - Recommendation generation failed: Missing user persona or campaign objective.
2025-07-18 13:30:17.207 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:63 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 13:30:17.208 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:80 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 13:30:17.209 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 13:30:17.210 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 13:30:17.215 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 13:30:17.898 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 13:39:01.960 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 13:39:01.962 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:39:02.392 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:39:02.393 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:39:02.710 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:39:02.711 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 13:39:02.711 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:39:03.114 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:39:03.114 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:46 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 13:39:03.114 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:39:03.465 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:39:03.465 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 13:39:03.465 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 13:39:03.467 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 13:39:03.472 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 13:39:03.472 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 13:39:06.203 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 13:39:07.954 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:170 - Campaign recommendation generated successfully.
2025-07-18 13:39:07.959 | ERROR    | __main__:run:105 - Workflow run failed: 2 validation errors for GraphState
user_persona
  Input should be a valid dictionary [type=dict_type, input_value='Young professional inter...ted in tech and fitness', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/dict_type
campaign_recommendation
  Input should be a valid string [type=string_type, input_value=AIMessage(content='**Pers...6, 'total_tokens': 807}), input_type=AIMessage]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-18 13:39:07.963 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 13:39:08.754 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 13:48:02.789 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 13:48:02.791 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:48:03.256 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:48:03.257 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:48:03.596 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:48:03.596 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 13:48:03.596 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:48:03.971 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:48:03.971 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:46 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 13:48:03.971 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:48:04.274 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:48:04.275 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 13:48:04.275 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 13:48:04.276 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 13:48:04.281 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 13:48:04.281 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 13:48:04.643 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 13:48:06.259 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 13:48:06.260 | ERROR    | __main__:run:105 - Workflow run failed: 1 validation error for GraphState
campaign_recommendation
  Input should be a valid string [type=string_type, input_value=AIMessage(content='**Pers...7, 'total_tokens': 732}), input_type=AIMessage]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-18 13:48:06.264 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 13:48:07.006 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 13:56:58.203 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 13:56:58.205 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:56:58.623 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:56:58.624 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:56:58.926 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:56:58.927 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 13:56:58.927 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:56:59.278 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:56:59.278 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:46 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 13:56:59.279 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 13:56:59.585 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 13:56:59.585 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 13:56:59.585 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 13:56:59.587 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 13:56:59.592 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 13:56:59.592 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 13:56:59.901 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 13:57:02.167 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 13:57:02.168 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:63 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 13:57:02.168 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:80 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 13:57:02.170 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 13:57:02.171 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 13:57:02.175 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 13:57:02.948 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 14:09:18.338 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 14:09:18.340 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:09:18.745 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:09:18.746 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:09:19.050 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:09:19.050 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 14:09:19.050 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:09:19.405 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:09:19.405 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:54 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 14:09:19.405 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:09:19.718 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:09:19.719 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 14:09:19.719 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 14:09:19.720 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 14:09:19.725 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 14:09:19.725 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 14:09:20.139 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 14:09:21.886 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 14:09:21.887 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:71 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 14:09:21.887 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:88 - Ad generation failed: type object 'AdPromptBuilder' has no attribute 'build_prompt'
2025-07-18 14:09:21.888 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 14:09:21.889 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 14:09:21.893 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 14:09:22.710 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 14:13:27.352 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 14:13:27.355 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:13:27.789 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:13:27.791 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:13:28.095 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:13:28.096 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 14:13:28.097 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:13:28.457 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:13:28.458 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:54 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 14:13:28.458 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:13:28.764 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:13:28.765 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 14:13:28.765 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 14:13:28.766 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 14:13:28.771 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 14:13:28.772 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 14:13:29.099 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 14:13:30.625 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 14:13:30.626 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:71 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 14:13:30.627 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:89 - Ad generation failed: Expected mapping type as input to ChatPromptTemplate. Received <class 'str'>.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT 
2025-07-18 14:13:30.629 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 14:13:30.629 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 14:13:30.633 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 14:13:31.330 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 14:15:11.480 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 14:15:11.482 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:15:11.886 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:15:11.887 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:15:12.195 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:15:12.195 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 14:15:12.196 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:15:12.550 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:15:12.550 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:54 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 14:15:12.551 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:15:12.862 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:15:12.862 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 14:15:12.862 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 14:15:12.865 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 14:15:12.870 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 14:15:12.870 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 14:15:13.386 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 14:15:15.833 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 14:15:15.833 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:71 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 14:15:15.834 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:89 - Ad generation failed: Expected mapping type as input to ChatPromptTemplate. Received <class 'str'>.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT 
2025-07-18 14:15:15.836 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 14:15:15.836 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 14:15:15.841 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 14:15:16.613 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 14:22:47.275 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 14:22:47.277 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:22:47.686 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:22:47.687 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:22:47.991 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:22:47.991 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 14:22:47.991 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:22:48.347 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:22:48.347 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:59 - GenerateAdNode initialized successfully with ad generation chain.
2025-07-18 14:22:48.347 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:22:48.660 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:22:48.660 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 14:22:48.661 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 14:22:48.662 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 14:22:48.667 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 14:22:48.667 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 14:22:49.019 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 14:22:50.633 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 14:22:50.633 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:76 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 14:22:50.635 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:95 - Ad generation failed: "Input to ChatPromptTemplate is missing variables {'user_persona', 'campaign_strategy'}.  Expected: ['campaign_strategy', 'user_persona'] Received: ['segment', 'campaign']\nNote: if you intended {user_persona} to be part of the string and not a variable, please escape it with double curly braces like: '{{user_persona}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 14:22:50.635 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 14:22:50.637 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 14:22:50.640 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 14:22:51.400 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 14:30:35.203 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 14:30:35.205 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:30:35.614 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:30:35.614 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:30:35.915 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:30:35.916 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 14:32:21.559 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 14:32:21.561 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:32:21.973 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:32:21.973 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:32:22.278 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:32:22.278 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 14:32:22.278 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:32:22.630 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:32:22.630 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:147 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 14:32:22.631 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 14:32:22.932 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 14:32:22.933 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 14:32:22.933 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 14:32:22.935 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 14:32:22.939 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 14:32:22.939 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 14:32:23.768 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 14:32:25.482 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 14:32:26.485 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:192 - Ad generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '## Step 1: Understand the task and guidelines\nThe task is to write a persuasive and engaging short-form ad for a new AI-powered smartwatch targeting Gen Z young professionals interested in tech and fitness. The ad should be under 50 words, emotionally engaging, use a friendly tone, and include a clear call to action.\n\n## 2: Identify key messaging and tone\nThe key messaging should emphasize the intersection of tech and fitness, highlighting the smartwatch\'s innovative features and ease of use. The tone should be modern, energetic, and motivational.\n\n## 3: Craft the ad text\n"Upgrade your fitness journey with our AI-powered smartwatch! Track your progress, crush your goals, and stay connected in style. Get ready to take control and join the movement! Limited time offer: Get 10% off your first purchase. Click the link to learn more!"\n\n## Step 4: Refine the ad text to fit within the 50-word limit\n"Upgrade your fitness journey with our AI-powered smartwatch! Track progress, crush goals & stay connected in style. Join the movement! Limited time: 10% off first purchase. Click to learn more & get ready to take control! [Link]"\n\nThe final answer is: \n[\n{\n"name": "AdGenerator",\n"parameters": {}\n}\n]'}}
2025-07-18 14:32:26.487 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 14:32:26.488 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 14:32:26.492 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 14:32:27.563 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 15:04:08.077 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 15:04:08.078 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:04:08.494 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:04:08.495 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:04:08.821 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:04:08.821 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 15:04:08.821 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:04:09.149 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:04:09.149 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:147 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 15:04:09.150 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:04:09.502 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:04:09.502 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 15:04:09.502 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 15:04:09.504 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 15:04:09.509 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 15:04:09.510 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 15:04:10.460 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 15:04:11.890 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 15:04:12.173 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:192 - Ad generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '"Unlock your fitness potential with our AI-powered smartwatch! Get personalized coaching, track your progress, and stay ahead of the curve. Upgrade your fitness journey - Learn More #FitnessRevolution #Smartwatch"'}}
2025-07-18 15:04:12.175 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 15:04:12.176 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 15:04:12.180 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 15:04:12.950 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 15:14:21.325 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 15:14:21.327 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:14:21.734 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:14:21.734 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:14:22.038 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:14:22.040 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 15:14:22.040 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:14:22.341 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:14:22.342 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:147 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 15:14:22.342 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:14:22.691 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:14:22.692 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 15:14:22.692 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 15:14:22.694 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 15:14:22.699 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 15:14:22.699 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 15:14:23.724 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 15:14:25.783 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 15:14:26.071 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:192 - Ad generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '"Upgrade your fitness game! Introducing our AI-powered smartwatch - your personal coach, style icon & connection hub. Get ready to sweat smarter! Pre-order now & join the fitness revolution! [Learn More]"'}}
2025-07-18 15:14:26.072 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 15:14:26.073 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 15:14:26.078 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 15:14:26.904 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 15:21:17.220 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 15:21:17.221 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:21:17.627 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:21:17.627 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:21:17.934 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:21:17.934 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 15:21:17.935 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:21:18.239 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:21:18.240 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:147 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 15:21:18.240 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:21:18.593 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:21:18.594 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 15:21:18.594 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 15:21:18.596 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 15:21:18.601 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 15:21:18.601 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 15:21:19.453 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 15:21:21.027 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 15:21:21.307 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:192 - Ad generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '"Upgrade your fitness game with AI-powered insights! Get personalized coaching, track your progress, and level up your style. Join the fitness revolution - Pre-Order Now and experience the future of smartwatches! "'}}
2025-07-18 15:21:21.310 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 15:21:21.311 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 15:21:21.314 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 15:21:22.055 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 15:46:06.096 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 15:46:06.097 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:46:06.506 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:46:06.506 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:46:06.819 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:46:06.819 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 15:46:06.819 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:228 - GenerateAdNode initialized with AdGenerator.
2025-07-18 15:46:06.820 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:46:07.125 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:46:07.126 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 15:46:07.126 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 15:46:07.180 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 15:46:07.185 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 15:46:07.186 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 15:46:07.514 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 15:46:10.682 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 15:46:10.684 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:242 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 15:46:10.684 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:259 - Ad generation failed: 'AdGenerator' object has no attribute 'chain'
2025-07-18 15:46:10.685 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 15:46:10.686 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 15:46:10.691 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 15:46:11.602 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 15:47:11.936 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 15:47:11.937 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:47:12.346 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:47:12.347 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:47:12.656 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:47:12.657 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 15:47:12.657 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:228 - GenerateAdNode initialized with AdGenerator.
2025-07-18 15:47:12.657 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:47:12.967 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:47:12.967 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 15:47:12.968 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 15:47:13.022 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 15:47:13.028 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 15:47:13.028 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 15:47:13.377 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 15:47:14.887 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 15:47:14.888 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:242 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 15:47:14.889 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:259 - Ad generation failed: 'GenerateAdNode' object has no attribute 'chain'
2025-07-18 15:47:14.890 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 15:47:14.891 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 15:47:14.894 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 15:47:15.598 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 15:53:33.719 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 15:53:33.721 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:53:34.177 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:53:34.177 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:53:34.538 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:53:34.538 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 15:53:34.538 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:53:34.862 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:53:34.862 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:234 - GenerateAdNode initialized with AdGenerator.
2025-07-18 15:53:34.864 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:53:35.268 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:53:35.268 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 15:53:35.269 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 15:53:35.272 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 15:53:35.277 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 15:53:35.277 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ojbllj, query='Launch summer sale campaign for Gen Z'
2025-07-18 15:53:37.108 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 15:53:39.849 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 15:53:39.849 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:248 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 15:53:39.851 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:265 - Ad generation failed: 'AdInput' object is not subscriptable
2025-07-18 15:53:39.852 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 15:53:39.852 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 15:53:39.857 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 15:53:41.192 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 15:57:23.555 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 15:57:23.557 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:57:23.960 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:57:23.960 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:57:24.262 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:57:24.263 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 15:57:24.263 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:57:24.567 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:57:24.567 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:234 - GenerateAdNode initialized with AdGenerator.
2025-07-18 15:57:24.568 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 15:57:24.916 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 15:57:24.916 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 15:57:24.916 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 15:57:24.918 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 15:57:24.925 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 15:57:24.925 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 15:57:25.228 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 15:57:27.115 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 15:57:27.116 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:274 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 15:57:27.117 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:291 - Ad generation failed: 'AdInput' object is not subscriptable
2025-07-18 15:57:27.118 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 15:57:27.119 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 15:57:27.124 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 15:57:27.942 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 16:04:48.445 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 16:04:48.446 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:04:48.878 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:04:48.879 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:04:49.182 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:04:49.182 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 16:04:49.182 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:04:49.485 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:04:49.486 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:327 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 16:04:49.486 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:04:49.840 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:04:49.841 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 16:04:49.841 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 16:04:49.844 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 16:04:49.849 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 16:04:49.849 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 16:04:50.174 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 16:04:51.645 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 16:04:51.646 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:341 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 16:04:52.433 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:374 - Ad generation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': "Discover the game-changer you've been waiting for! Our product is a great solution that's about to take your life to the next level! Stay ahead of the curve and experience the future today! #GreatProduct #GameChanger"}}
2025-07-18 16:04:52.434 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 16:04:52.434 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 16:04:52.439 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 16:05:00.562 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 16:08:14.914 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 16:08:14.916 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:08:15.320 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:08:15.321 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:08:15.622 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:08:15.622 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 16:08:15.622 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:08:15.928 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:08:15.928 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 16:08:15.928 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:08:16.275 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:08:16.275 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 16:08:16.276 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 16:08:16.278 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 16:08:16.284 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 16:08:16.284 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 16:08:16.821 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 16:08:18.352 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 16:08:18.352 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:326 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 16:08:18.712 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:359 - Ad generation failed: 'AdOutput' object has no attribute 'ad_content'
2025-07-18 16:08:18.713 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 16:08:18.714 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 16:08:18.717 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 16:08:19.530 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 16:11:33.451 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 16:11:33.453 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:11:33.885 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:11:33.886 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:11:34.212 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:11:34.212 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 16:11:34.212 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:11:34.586 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:11:34.586 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 16:11:34.587 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:11:34.963 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:11:34.963 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 16:11:34.964 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 16:11:34.966 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 16:11:34.971 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 16:11:34.972 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 16:11:35.461 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 16:11:44.432 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 16:11:44.433 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:326 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 16:11:48.492 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:356 - Ad successfully generated.
2025-07-18 16:11:48.494 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 16:11:48.495 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 16:11:48.499 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 16:11:49.307 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 16:17:37.112 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 16:17:37.114 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:17:37.517 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:17:37.518 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:17:37.824 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:17:37.824 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 16:17:37.825 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:17:38.130 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:17:38.130 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 16:17:38.130 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:17:38.478 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:17:38.479 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 16:17:38.479 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 16:17:38.480 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 16:17:38.487 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 16:17:38.487 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uyfovluul, query='Launch summer sale campaign for Gen Z'
2025-07-18 16:17:38.922 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 16:17:42.470 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 16:17:42.471 | DEBUG    | workflows.graphs.campaign.nodes.generate_ad_node:process:325 - user_segment: None, strategy: None
2025-07-18 16:17:42.471 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:327 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 16:17:42.723 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 16:17:42.724 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 16:17:42.725 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 16:17:42.729 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 16:17:43.488 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 16:19:20.714 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 16:19:20.716 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:19:21.127 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:19:21.128 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:19:21.439 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:19:21.439 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 16:19:21.440 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:19:21.747 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:19:21.747 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 16:19:21.748 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:19:22.101 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:19:22.102 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 16:19:22.102 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 16:19:22.104 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 16:19:22.110 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 16:19:22.110 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ojbllj, query='Launch summer sale campaign for Gen Z'
2025-07-18 16:19:22.439 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 16:19:24.102 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 16:19:24.104 | DEBUG    | workflows.graphs.campaign.nodes.generate_ad_node:process:324 - user_segment: None, strategy: None
2025-07-18 16:19:24.104 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:327 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 16:19:24.484 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 16:19:24.485 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 16:19:24.486 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 16:19:24.490 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 16:19:25.221 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 16:20:09.669 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 16:20:09.671 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:20:10.078 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:20:10.079 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:20:10.384 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:20:10.384 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 16:20:10.385 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:20:10.688 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:20:10.688 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 16:20:10.689 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:20:11.042 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:20:11.044 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 16:20:11.044 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 16:20:11.046 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 16:20:11.051 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 16:20:11.052 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ojbllj, query='Launch summer sale campaign for Gen Z'
2025-07-18 16:20:11.628 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: standard
2025-07-18 16:20:14.710 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:171 - Campaign recommendation generated successfully.
2025-07-18 16:20:14.710 | DEBUG    | workflows.graphs.campaign.nodes.generate_ad_node:process:326 - user_segment: None, strategy: None
2025-07-18 16:20:14.711 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:327 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 16:20:15.477 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 16:20:15.479 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 16:20:15.480 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 16:20:15.483 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 16:20:16.228 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 16:42:53.193 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:42:53.610 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:42:53.611 | INFO     | __main__:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 16:42:56.005 | INFO     | __main__:process:171 - Campaign recommendation generated successfully.
2025-07-18 16:48:21.599 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:48:22.006 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:48:22.993 | INFO     | __main__:process:91 - Predicted segment: budget
2025-07-18 16:48:23.158 | INFO     | __main__:process:91 - Predicted segment: premium
2025-07-18 16:48:23.904 | INFO     | __main__:process:91 - Predicted segment: budget
2025-07-18 16:51:04.330 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:51:04.781 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:51:04.781 | INFO     | __main__:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 16:51:12.807 | INFO     | __main__:process:170 - Campaign recommendation generated successfully.
2025-07-18 16:52:56.763 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 16:52:56.764 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:52:57.174 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:52:57.175 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:52:57.479 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:52:57.480 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 16:52:57.480 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:52:57.792 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:52:57.792 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 16:52:57.792 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:52:58.147 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:52:58.147 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 16:52:58.147 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 16:52:58.149 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 16:52:58.155 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 16:52:58.156 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=hviy, query='Launch summer campaign'
2025-07-18 16:52:58.505 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:91 - Predicted segment: premium
2025-07-18 16:52:58.506 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:173 - Recommendation generation failed: Missing user persona or campaign objective.
2025-07-18 16:52:58.507 | DEBUG    | workflows.graphs.campaign.nodes.generate_ad_node:process:326 - user_segment: None, strategy: None
2025-07-18 16:52:58.507 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:327 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 16:52:58.815 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 16:52:58.817 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 16:52:58.817 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 16:52:58.821 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 16:52:59.587 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 16:57:28.044 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:57:28.448 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:57:52.537 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 16:57:52.940 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 16:57:55.838 | ERROR    | __main__:process:99 - Segmentation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n {\n "name": "SegmentOutput",\n "parameters": {\n "segment": "tech"\n }\n }\n]'}}
2025-07-18 17:12:44.750 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 17:12:45.180 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 17:12:45.189 | ERROR    | __main__:process:97 - Segmentation failed: 'Input to ChatPromptTemplate is missing variables {\'\\n  "segment"\'}.  Expected: [\'\\n  "segment"\', \'segments\', \'user_profile\'] Received: [\'user_profile\', \'segments\']\nNote: if you intended {\n  "segment"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n  "segment"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-18 17:18:24.867 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 17:18:25.309 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 17:18:25.309 | INFO     | __main__:__init__:136 - UserSegmenter initialized with inline prompt chain.
2025-07-18 17:18:57.347 | ERROR    | __main__:process:182 - Segmentation failed: Error code: 500 - {'error': {'message': 'Internal Server Error', 'type': 'internal_server_error'}}
2025-07-18 17:19:12.499 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 17:19:12.940 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 17:19:12.940 | INFO     | __main__:__init__:136 - UserSegmenter initialized with inline prompt chain.
2025-07-18 17:19:45.015 | ERROR    | __main__:process:182 - Segmentation failed: Error code: 500 - {'error': {'message': 'Internal Server Error', 'type': 'internal_server_error'}}
2025-07-18 17:33:20.091 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 17:33:20.491 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 17:33:20.491 | INFO     | __main__:__init__:136 - UserSegmenter initialized with inline prompt chain.
2025-07-18 17:33:20.491 | ERROR    | __main__:process:175 - Segmentation failed: Invalid format specifier ' "<one of: budget | standard | premium>"
                            ' for object of type 'str'
2025-07-18 17:39:48.112 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 17:39:48.528 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 17:39:48.528 | INFO     | __main__:__init__:136 - UserSegmenter initialized with inline prompt chain.
2025-07-18 17:39:48.837 | ERROR    | __main__:process:176 - Segmentation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n {\n "segment": "premium"\n }\n]'}}
2025-07-18 17:49:05.270 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 17:49:05.722 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 17:49:05.722 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 17:49:06.064 | INFO     | __main__:process:277 - Predicted segment: budget
2025-07-18 17:51:06.000 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 17:51:06.435 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 17:51:06.435 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 17:51:07.357 | INFO     | __main__:process:277 - Predicted segment: standard
2025-07-18 17:51:43.315 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 17:51:43.715 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 17:51:43.717 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 17:51:44.639 | INFO     | __main__:process:277 - Predicted segment: standard
2025-07-18 18:03:25.203 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:03:25.650 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:03:25.651 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:03:25.981 | INFO     | __main__:process:277 - Predicted segment: standard
2025-07-18 18:04:23.681 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:04:24.084 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:04:24.085 | INFO     | __main__:__init__:346 - UserSegmenter initialized with structured prompt.
2025-07-18 18:04:24.383 | INFO     | __main__:process:386 - Predicted user_segment: standard
2025-07-18 18:08:27.758 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:08:28.155 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:08:28.156 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:08:28.511 | INFO     | __main__:process:277 - Predicted segment: standard
2025-07-18 18:10:36.813 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:10:37.255 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:10:37.255 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:10:44.240 | INFO     | __main__:process:277 - Predicted segment: premium
2025-07-18 18:11:12.930 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:11:13.350 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:11:13.351 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:11:14.884 | INFO     | __main__:process:277 - Predicted segment: premium
2025-07-18 18:11:27.238 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:11:27.639 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:11:27.640 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:11:28.440 | INFO     | __main__:process:277 - Predicted segment: premium
2025-07-18 18:11:40.816 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:11:41.256 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:11:41.257 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:11:41.573 | INFO     | __main__:process:277 - Predicted segment: premium
2025-07-18 18:11:57.846 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:11:58.249 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:11:58.250 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:11:58.525 | INFO     | __main__:process:277 - Predicted segment: budget
2025-07-18 18:12:21.103 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:12:21.509 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:12:21.509 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:12:21.770 | INFO     | __main__:process:277 - Predicted segment: premium
2025-07-18 18:12:38.231 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:12:38.631 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:12:38.632 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:12:40.247 | INFO     | __main__:process:277 - Predicted segment: premium
2025-07-18 18:14:37.566 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 18:14:37.567 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:14:38.016 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:14:38.016 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:14:38.017 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:14:38.339 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:14:38.339 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 18:14:38.340 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:14:38.647 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:14:38.647 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 18:14:38.648 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:14:39.000 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:14:39.001 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 18:14:39.001 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 18:14:39.003 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 18:14:39.010 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 18:14:39.010 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ncjfdjg, query='Launch summer campaign'
2025-07-18 18:14:46.940 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:285 - Segmentation failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': 'To classify the user based on the query "Launch summer campaign" into one of the segments - "budget", "standard", or "premium", we need to consider the nature of the query and typical customer behavior associated with each segment.\n\n1. **Budget Segment**: Customers in this segment are typically price-sensitive, looking for the best value for their money. They might be interested in cost-effective solutions or campaigns that offer significant discounts.\n\n2. **Standard Segment**: This segment includes customers who are looking for reliable, quality products or services without necessarily seeking premium features or the lowest price. They value quality and service.\n\n3. **Premium Segment**: Customers in this segment prioritize high-quality products or services, are often less price-sensitive, and may seek exclusive or unique offerings.\n\nGiven the query "Launch summer campaign," it suggests that the user is likely interested in marketing or promotional activities, possibly looking to attract customers during the summer season. This kind of query doesn\'t directly indicate a focus on cost, quality, or exclusivity but rather on strategic marketing.\n\nHowever, without specific details on the user\'s goals (e.g., increasing brand awareness, driving sales, customer engagement), it\'s challenging to definitively categorize them based solely on the query provided. \n\nBut, considering typical marketing strategies, launching a summer campaign could imply a desire to capitalize on seasonal opportunities, which might align more with standard or premium strategies aiming to boost engagement or sales during a specific period.\n\nGiven the lack of specific information suggesting a focus on cost-effectiveness or high-end exclusivity, and assuming a general approach to marketing that seeks to engage a broad audience or achieve standard business goals, a "standard" segment seems like a reasonable assumption.\n\n{\n "segment": "standard"\n}'}}
2025-07-18 18:14:46.941 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:173 - Recommendation generation failed: Missing user persona or campaign objective.
2025-07-18 18:14:46.942 | DEBUG    | workflows.graphs.campaign.nodes.generate_ad_node:process:326 - user_segment: standard, strategy: None
2025-07-18 18:14:46.942 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:327 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 18:14:47.888 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 18:14:47.889 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 18:14:47.890 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 18:14:47.894 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 18:14:55.681 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 18:17:57.131 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 18:17:57.133 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:17:57.539 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:17:57.540 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 18:17:57.540 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:17:57.841 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:17:57.842 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 18:17:57.842 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:17:58.142 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:17:58.142 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 18:17:58.143 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 18:17:58.491 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 18:17:58.492 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 18:17:58.492 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 18:17:58.494 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 18:17:58.500 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 18:17:58.500 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=ncjfdjg, query='Launch summer campaign'
2025-07-18 18:18:01.247 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:277 - Predicted segment: standard
2025-07-18 18:18:01.247 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:173 - Recommendation generation failed: Missing user persona or campaign objective.
2025-07-18 18:18:01.248 | DEBUG    | workflows.graphs.campaign.nodes.generate_ad_node:process:326 - user_segment: standard, strategy: None
2025-07-18 18:18:01.248 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:327 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 18:18:01.613 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 18:18:01.615 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 18:18:01.615 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 18:18:01.619 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 18:18:03.049 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 19:35:30.640 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 19:35:30.641 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 19:35:31.045 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 19:35:31.045 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 19:35:31.045 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 19:35:31.346 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 19:35:31.346 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:124 - RecommendNode initialized with inline prompt chain.
2025-07-18 19:35:31.346 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 19:35:31.650 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 19:35:31.651 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 19:35:31.651 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 19:35:32.000 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 19:35:32.000 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 19:35:32.001 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 19:35:32.003 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 19:35:32.009 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 19:35:32.010 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=hviy, query='Launch summer campaign'
2025-07-18 19:35:32.383 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:277 - Predicted segment: standard
2025-07-18 19:35:33.738 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:170 - Campaign recommendation generated successfully.
2025-07-18 19:35:33.739 | DEBUG    | workflows.graphs.campaign.nodes.generate_ad_node:process:326 - user_segment: standard, strategy: None
2025-07-18 19:35:33.739 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:327 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 19:35:34.030 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 19:35:34.031 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 19:35:34.032 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 19:35:34.035 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 19:35:34.878 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 20:03:10.584 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:03:10.989 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:03:10.989 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:03:11.729 | INFO     | __main__:process:278 - Predicted segment: premium
2025-07-18 20:05:07.819 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:05:08.312 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:05:08.312 | INFO     | __main__:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:05:09.241 | INFO     | __main__:process:278 - Predicted segment: premium
2025-07-18 20:05:45.616 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 20:05:45.617 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:05:46.026 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:05:46.027 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:05:46.027 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:05:46.336 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:05:46.337 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 20:05:46.337 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:05:46.660 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:05:46.660 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 20:05:46.661 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:05:47.036 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:05:47.037 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:54 - HumanReviewRouter initialized successfully
2025-07-18 20:05:47.037 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 20:05:47.039 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 20:05:47.046 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 20:05:47.046 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=Launch summer campaign, query='Launch summer campaign'
2025-07-18 20:05:47.352 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: standard
2025-07-18 20:05:48.708 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 20:05:48.994 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 20:05:48.995 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:78 - Human review decision failed: "Input to ChatPromptTemplate is missing variables {'generated_ad'}.  Expected: ['generated_ad'] Received: ['content']\nNote: if you intended {generated_ad} to be part of the string and not a variable, please escape it with double curly braces like: '{{generated_ad}}'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT "
2025-07-18 20:05:48.996 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 20:05:49.000 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 20:05:50.873 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 20:15:08.727 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 20:15:08.729 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:15:09.170 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:15:09.171 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:15:09.171 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:15:09.550 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:15:09.551 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 20:15:09.551 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:15:09.895 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:15:09.895 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 20:15:09.895 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:15:10.260 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:15:10.261 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:147 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 20:15:10.261 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 20:15:10.262 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 20:15:10.269 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 20:15:10.269 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=hviy, query='Launch summer sale campaign for Gen Z'
2025-07-18 20:15:10.672 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: standard
2025-07-18 20:15:12.064 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 20:15:12.411 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 20:15:12.699 | ERROR    | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:170 - Human review decision failed: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n {\n "name": "HumanReviewDecision",\n "parameters": {\n "require_review": "false"\n }\n }\n]'}}
2025-07-18 20:15:12.699 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 20:15:12.703 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 20:15:13.433 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 20:20:23.515 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 20:20:23.516 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:20:23.931 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:20:23.932 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:20:23.932 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:20:24.236 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:20:24.237 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 20:20:24.237 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:20:24.542 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:20:24.543 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 20:20:24.543 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:20:24.892 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:20:24.893 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 20:20:24.893 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 20:20:24.895 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 20:20:24.902 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 20:20:24.903 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uvu, query='apple products for office welcome kit'
2025-07-18 20:20:25.886 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 20:20:27.343 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 20:20:28.914 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 20:20:29.151 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:265 - Human review required: False
2025-07-18 20:20:29.152 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 20:20:29.155 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 20:20:30.009 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 20:25:55.041 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 20:25:55.043 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:25:55.446 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:25:55.447 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:25:55.447 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:25:55.749 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:25:55.750 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 20:25:55.750 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:25:56.055 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:25:56.056 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 20:25:56.056 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:25:56.460 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:25:56.460 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 20:25:56.460 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 20:25:56.462 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 20:25:56.470 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 20:25:56.470 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=hvucu, query='apple products for office welcome kit'
2025-07-18 20:26:04.947 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 20:26:06.451 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 20:26:06.826 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 20:26:07.031 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:265 - Human review required: False
2025-07-18 20:26:07.032 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 20:26:07.036 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 20:26:07.803 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 20:35:16.685 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 20:35:16.687 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:35:17.088 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:35:17.088 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:35:17.088 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:35:17.389 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:35:17.390 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 20:35:17.390 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:35:17.694 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:35:17.695 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 20:35:17.695 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:35:18.057 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:35:18.058 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 20:35:18.058 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 20:35:18.060 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 20:35:18.090 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 20:35:18.090 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=uvu, query='apple products for office welcome kit'
2025-07-18 20:35:30.576 | ERROR    | workflows.graphs.campaign.nodes.segment_node:process:296 - Segmentation failed: Connection error.
2025-07-18 20:35:31.884 | ERROR    | workflows.graphs.campaign.nodes.recommend_node:process:76 - Recommendation generation failed: Connection error.
2025-07-18 20:35:31.885 | DEBUG    | workflows.graphs.campaign.nodes.generate_ad_node:process:326 - user_segment: standard, strategy: None
2025-07-18 20:35:31.885 | WARNING  | workflows.graphs.campaign.nodes.generate_ad_node:process:327 - Missing user segment or campaign recommendation; falling back to defaults.
2025-07-18 20:35:33.269 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:360 - Ad generation failed: Connection error.
2025-07-18 20:35:33.270 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "require_human_review"
2025-07-18 20:35:33.273 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 20:35:33.785 | ERROR    | __main__:get_graph_structure:77 - Mermaid PNG rendering failed: Failed to reach https://mermaid.ink/ API while trying to render your graph after 1 retries. To resolve this issue:
1. Check your internet connection and try again
2. Try with higher retry settings: `draw_mermaid_png(..., max_retries=5, retry_delay=2.0)`
3. Use the Pyppeteer rendering method which will render your graph locally in a browser: `draw_mermaid_png(..., draw_method=MermaidDrawMethod.PYPPETEER)`
2025-07-18 20:35:33.785 | ERROR    | __main__:main:142 - Could not save graph structure: Failed to reach https://mermaid.ink/ API while trying to render your graph after 1 retries. To resolve this issue:
1. Check your internet connection and try again
2. Try with higher retry settings: `draw_mermaid_png(..., max_retries=5, retry_delay=2.0)`
3. Use the Pyppeteer rendering method which will render your graph locally in a browser: `draw_mermaid_png(..., draw_method=MermaidDrawMethod.PYPPETEER)`
2025-07-18 20:41:55.384 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 20:41:55.385 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:41:55.792 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:41:55.792 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:41:55.792 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:41:56.096 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:41:56.097 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 20:41:56.097 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:41:56.401 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:41:56.401 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 20:41:56.402 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:41:56.748 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:41:56.748 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 20:41:56.749 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 20:41:56.751 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 20:41:56.757 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 20:41:56.757 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=jbljv, query='apple products for office welcome kit'
2025-07-18 20:41:57.862 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 20:41:59.499 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 20:42:00.375 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 20:42:00.376 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "require_human_review"
2025-07-18 20:42:00.380 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 20:42:01.230 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 20:43:52.307 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 20:43:52.308 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:43:52.713 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:43:52.713 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:43:52.714 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:43:53.017 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:43:53.018 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 20:43:53.018 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:43:53.322 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:43:53.323 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 20:43:53.323 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:43:53.679 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:43:53.679 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 20:43:53.679 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 20:43:53.681 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 20:43:53.699 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 20:43:53.699 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=jbljv, query='apple products for office welcome kit'
2025-07-18 20:43:54.841 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 20:43:56.637 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 20:43:58.078 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 20:43:58.079 | ERROR    | __main__:run:105 - Workflow run failed: "GraphState" object has no field "require_human_review"
2025-07-18 20:43:58.083 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 20:43:58.757 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 20:44:34.380 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 20:44:34.382 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:44:34.785 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:44:34.785 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:44:34.786 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:44:35.088 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:44:35.088 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 20:44:35.089 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:44:35.390 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:44:35.391 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 20:44:35.391 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:44:35.738 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:44:35.740 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 20:44:35.740 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 20:44:35.742 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 20:44:35.748 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 20:44:35.748 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=fyiyf, query='apple products for office welcome kit'
2025-07-18 20:44:36.361 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 20:44:38.097 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 20:44:38.838 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 20:44:38.839 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:284 - Human review forced: True
2025-07-18 20:44:38.839 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 20:44:38.843 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 20:44:39.446 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 20:48:46.668 | INFO     | __main__:__init__:20 - Initializing CampaignWorkflow...
2025-07-18 20:48:46.669 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:48:47.085 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:48:47.085 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:48:47.085 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:48:47.387 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:48:47.388 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 20:48:47.388 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:48:47.726 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:48:47.726 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 20:48:47.727 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:48:48.077 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:48:48.077 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 20:48:48.077 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 20:48:48.079 | INFO     | __main__:_build_graph:53 - Workflow graph defined.
2025-07-18 20:48:48.087 | INFO     | __main__:__init__:30 - CampaignOrchestrator initialized successfully
2025-07-18 20:48:48.088 | INFO     | __main__:run:92 - Running CampaignWorkflow for user_id=iflif;i;, query='apple products for office welcome kit'
2025-07-18 20:48:48.882 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 20:48:50.656 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 20:48:53.462 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 20:48:53.462 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:284 - Human review forced: True
2025-07-18 20:49:36.223 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:293 - Captured human feedback: optimize the cost constraint, inventory constraint and optimzation constraint
2025-07-18 20:49:36.224 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:process:35 - Ad feedback received: optimize the cost constraint, inventory constraint and optimzation constraint
2025-07-18 20:49:36.229 | WARNING  | __main__:get_graph_structure:69 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 20:49:37.055 | INFO     | __main__:main:140 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 20:58:27.364 | INFO     | __main__:__init__:22 - Initializing CampaignWorkflow...
2025-07-18 20:58:27.366 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:58:27.802 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:58:27.803 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 20:58:27.803 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:58:28.106 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:58:28.106 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 20:58:28.106 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:58:28.409 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:58:28.410 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 20:58:28.410 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 20:58:28.713 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 20:58:28.713 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 20:58:28.713 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 20:58:28.766 | INFO     | __main__:_build_graph:55 - Workflow graph defined.
2025-07-18 20:58:28.774 | INFO     | __main__:__init__:32 - CampaignOrchestrator initialized successfully
2025-07-18 20:58:28.774 | INFO     | __main__:run:94 - Running CampaignWorkflow for user_id=iyfiyf, query='apple products for office welcome kit'
2025-07-18 20:58:29.683 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 20:58:31.241 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 20:58:32.129 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 20:58:32.130 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:284 - Human review forced: True
2025-07-18 20:58:41.124 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:293 - Captured human feedback: optimize the cost constraint, inventory constraint and optimzation constraint
2025-07-18 20:58:41.126 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:process:35 - Ad feedback received: optimize the cost constraint, inventory constraint and optimzation constraint
2025-07-18 20:58:41.129 | WARNING  | __main__:get_graph_structure:71 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 20:58:42.006 | INFO     | __main__:main:171 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 21:11:36.606 | INFO     | __main__:__init__:22 - Initializing CampaignWorkflow...
2025-07-18 21:11:36.609 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:11:37.018 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:11:37.019 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 21:11:37.019 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:11:37.321 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:11:37.322 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 21:11:37.322 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:11:37.630 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:11:37.631 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:321 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 21:11:37.631 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:11:37.934 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:11:37.934 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 21:11:37.934 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 21:11:37.987 | INFO     | __main__:_build_graph:55 - Workflow graph defined.
2025-07-18 21:11:37.994 | INFO     | __main__:__init__:32 - CampaignOrchestrator initialized successfully
2025-07-18 21:11:37.994 | INFO     | __main__:run:123 - Running CampaignWorkflow for user_id=fyiyf, query='apple products for office welcome kit'
2025-07-18 21:11:39.084 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 21:11:40.799 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 21:11:42.891 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:357 - Ad successfully generated.
2025-07-18 21:11:42.892 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:284 - Human review forced: True
2025-07-18 21:16:46.287 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:293 - Captured human feedback: optimize the cost constraint, inventory constraint and optimzation constraint
2025-07-18 21:16:46.288 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:process:35 - Ad feedback received: optimize the cost constraint, inventory constraint and optimzation constraint
2025-07-18 21:16:46.289 | ERROR    | __main__:run:141 - Workflow run failed: 'dict' object has no attribute 'user_segment'
2025-07-18 21:16:46.293 | WARNING  | __main__:get_graph_structure:71 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 21:17:14.254 | ERROR    | __main__:get_graph_structure:79 - Mermaid PNG rendering failed: Failed to reach https://mermaid.ink/ API while trying to render your graph after 1 retries. To resolve this issue:
1. Check your internet connection and try again
2. Try with higher retry settings: `draw_mermaid_png(..., max_retries=5, retry_delay=2.0)`
3. Use the Pyppeteer rendering method which will render your graph locally in a browser: `draw_mermaid_png(..., draw_method=MermaidDrawMethod.PYPPETEER)`
2025-07-18 21:17:14.254 | ERROR    | __main__:main:178 - Could not save graph structure: Failed to reach https://mermaid.ink/ API while trying to render your graph after 1 retries. To resolve this issue:
1. Check your internet connection and try again
2. Try with higher retry settings: `draw_mermaid_png(..., max_retries=5, retry_delay=2.0)`
3. Use the Pyppeteer rendering method which will render your graph locally in a browser: `draw_mermaid_png(..., draw_method=MermaidDrawMethod.PYPPETEER)`
2025-07-18 21:26:39.390 | INFO     | __main__:__init__:22 - Initializing CampaignWorkflow...
2025-07-18 21:26:39.392 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:26:39.826 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:26:39.826 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 21:26:39.826 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:26:40.151 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:26:40.152 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 21:26:40.152 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:26:40.554 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:26:40.554 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:322 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 21:26:40.554 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:26:40.883 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:26:40.884 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 21:26:40.884 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 21:26:40.940 | INFO     | __main__:_build_graph:55 - Workflow graph defined.
2025-07-18 21:26:40.948 | INFO     | __main__:__init__:32 - CampaignOrchestrator initialized successfully
2025-07-18 21:26:40.948 | INFO     | __main__:run:123 - Running CampaignWorkflow for user_id=iiyiy, query='apple products for office welcome kit'
2025-07-18 21:26:41.773 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 21:26:43.572 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 21:26:44.613 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:358 - Ad successfully generated.
2025-07-18 21:26:44.613 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:363 - Ad generation failed: 'GraphState' object has no attribute 'user_id'
2025-07-18 21:26:44.613 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:284 - Human review forced: True
2025-07-18 21:28:38.601 | WARNING  | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:295 - No feedback provided for the ad.
2025-07-18 21:28:38.602 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 21:28:38.603 | ERROR    | __main__:run:141 - Workflow run failed: 'dict' object has no attribute 'user_segment'
2025-07-18 21:28:38.606 | WARNING  | __main__:get_graph_structure:71 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 21:28:39.290 | INFO     | __main__:main:176 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 21:29:53.548 | INFO     | __main__:__init__:22 - Initializing CampaignWorkflow...
2025-07-18 21:29:53.549 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:29:53.955 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:29:53.956 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 21:29:53.956 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:29:54.257 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:29:54.257 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 21:29:54.258 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:29:54.567 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:29:54.568 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:322 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 21:29:54.568 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:29:54.873 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:29:54.873 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 21:29:54.874 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 21:29:54.929 | INFO     | __main__:_build_graph:55 - Workflow graph defined.
2025-07-18 21:29:54.936 | INFO     | __main__:__init__:32 - CampaignOrchestrator initialized successfully
2025-07-18 21:29:54.936 | INFO     | __main__:run:123 - Running CampaignWorkflow for user_id=iiyiy, query='apple products for office welcome kit'
2025-07-18 21:29:55.800 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 21:29:57.620 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 21:29:58.877 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:358 - Ad successfully generated.
2025-07-18 21:29:58.878 | ERROR    | workflows.graphs.campaign.nodes.generate_ad_node:process:363 - Ad generation failed: 'GraphState' object has no attribute 'ad_output'
2025-07-18 21:29:58.879 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:284 - Human review forced: True
2025-07-18 21:31:12.948 | WARNING  | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:295 - No feedback provided for the ad.
2025-07-18 21:31:12.950 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 21:31:12.950 | ERROR    | __main__:run:141 - Workflow run failed: 'dict' object has no attribute 'user_segment'
2025-07-18 21:31:12.954 | WARNING  | __main__:get_graph_structure:71 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 21:31:13.673 | INFO     | __main__:main:176 - Saved campaign graph structure as campaign_graph_structure.png
2025-07-18 21:31:22.315 | INFO     | __main__:__init__:22 - Initializing CampaignWorkflow...
2025-07-18 21:31:22.316 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:31:22.721 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:31:22.722 | INFO     | workflows.graphs.campaign.nodes.segment_node:__init__:237 - UserSegmenter initialized with structured prompt.
2025-07-18 21:31:22.722 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:31:23.028 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:31:23.028 | INFO     | workflows.graphs.campaign.nodes.recommend_node:__init__:26 - RecommendNode initialized with inline prompt chain.
2025-07-18 21:31:23.028 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:31:23.331 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:31:23.331 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:__init__:322 - GenerateAdNode initialized with inline prompt chain.
2025-07-18 21:31:23.331 | INFO     | core.llm_manager:create_llm:82 - Initializing LLM provider: groq | Temperature: 0.3 | Overrides: {}
2025-07-18 21:31:23.637 | INFO     | core.chain:build:107 - Built chain for: default using provider: groq
2025-07-18 21:31:23.637 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:__init__:243 - HumanReviewRouter initialized successfully with inline prompt.
2025-07-18 21:31:23.637 | INFO     | workflows.graphs.campaign.nodes.feedback_loop_node:__init__:16 - FeedbackLoopNode initialized successfully.
2025-07-18 21:31:23.689 | INFO     | __main__:_build_graph:55 - Workflow graph defined.
2025-07-18 21:31:23.697 | INFO     | __main__:__init__:32 - CampaignOrchestrator initialized successfully
2025-07-18 21:31:23.697 | INFO     | __main__:run:123 - Running CampaignWorkflow for user_id=iiyiy, query='apple products for office welcome kit'
2025-07-18 21:31:25.152 | INFO     | workflows.graphs.campaign.nodes.segment_node:process:278 - Predicted segment: premium
2025-07-18 21:31:27.229 | INFO     | workflows.graphs.campaign.nodes.recommend_node:process:73 - Campaign recommendation generated successfully.
2025-07-18 21:31:28.949 | INFO     | workflows.graphs.campaign.nodes.generate_ad_node:process:358 - Ad successfully generated.
2025-07-18 21:31:28.950 | INFO     | core.utils.campaign_recs:save:36 - Campaign report saved: campaign_outputs/iiyiy_2025-07-18_21-31-28.txt
2025-07-18 21:31:28.951 | INFO     | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:284 - Human review forced: True
2025-07-18 21:32:55.629 | WARNING  | workflows.graphs.campaign.nodes.human_in_the_loop_node:process:295 - No feedback provided for the ad.
2025-07-18 21:32:55.630 | WARNING  | workflows.graphs.campaign.nodes.feedback_loop_node:process:31 - No feedback provided for the ad.
2025-07-18 21:32:55.631 | ERROR    | __main__:run:141 - Workflow run failed: 'dict' object has no attribute 'user_segment'
2025-07-18 21:32:55.635 | WARNING  | __main__:get_graph_structure:71 - Pyppeteer not installed. Run: pip install pyppeteer
2025-07-18 21:32:57.009 | INFO     | __main__:main:176 - Saved campaign graph structure as campaign_graph_structure.png
